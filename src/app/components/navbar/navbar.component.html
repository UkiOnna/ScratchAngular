<mat-toolbar color="primary">
  <mat-toolbar-row>
    <button mat-button routerLink="/main-page">Главная</button>
    <button [routerLink]="[ '/projects', this.userDepartmentId ]" *ngIf="isAdmin||isDepartment||isDivision"
      mat-button>Статистика по департаменту</button>
    <button [routerLink]="[ '/departments', this.userSubdivisionId ]" *ngIf="isAdmin||isDivision" mat-button>Статистика
      по подразделениям</button>
    <div class="navbar-right">
      <button *ngIf="isLogin" mat-button [matMenuTriggerFor]="menu">Дополнительно</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item [matMenuTriggerFor]="add">Добавить</button>
        <button *ngIf="isAdmin" mat-menu-item [matMenuTriggerFor]="edit">Редактировать</button>
        <button *ngIf="isAdmin" mat-menu-item [matMenuTriggerFor]="delete">Удалить</button>

        <mat-menu #add="matMenu">
          <button *ngIf="isAdmin" mat-menu-item (click)="openCreateUserDialog(false,false)">Пользователя</button>
          <button *ngIf="isAdmin||isDepartment||isDivision" (click)="openCreateProjectDialog(false,false)"
            mat-menu-item>Проект</button>
          <button *ngIf="isAdmin||isDivision" mat-menu-item
            (click)="openCreateDepartamentDialog(false,false)">Департамент</button>
          <button *ngIf="isAdmin" mat-menu-item
            (click)="openCreateSubdivisionDialog(false,false)">Подразделение</button>
          <button mat-menu-item (click)="openCreateTaskDialog(false,false)">Задачу</button>
        </mat-menu>

        <mat-menu #edit="matMenu">
          <button *ngIf="isAdmin" (click)="openCreateUserDialog(true,false)" mat-menu-item>Пользователя</button>
          <button *ngIf="isAdmin||isDepartment||isDivision" (click)="openCreateProjectDialog(true,false)"
            mat-menu-item>Проект</button>
          <button *ngIf="isAdmin||isDivision" (click)="openCreateDepartamentDialog(true,false)"
            mat-menu-item>Департамент</button>
          <button *ngIf="isAdmin" (click)="openCreateSubdivisionDialog(true,false)" mat-menu-item>Подразделение</button>
          <button mat-menu-item (click)="openCreateTaskDialog(true,false)">Задачу</button>
        </mat-menu>

        <mat-menu #delete="matMenu">
          <button *ngIf="isAdmin" mat-menu-item (click)="openCreateUserDialog(false,true)">Пользователя</button>
          <button *ngIf="isAdmin||isDepartment||isDivision" (click)="openCreateProjectDialog(false,true)"
            mat-menu-item>Проект</button>
          <button *ngIf="isAdmin||isDivision" mat-menu-item
            (click)="openCreateDepartamentDialog(false,true)">Департамент</button>
          <button *ngIf="isAdmin" mat-menu-item (click)="openCreateSubdivisionDialog(false,true)">Подразделение</button>
          <button mat-menu-item (click)="openCreateTaskDialog(false,true)">Задачу</button>
        </mat-menu>

      </mat-menu>
      <div *ngIf="isLogin; then thenBlock else elseBlock"></div>
      <ng-template #thenBlock><button mat-button routerLink="/login" (click)="signOut()">Выход</button></ng-template>
      <ng-template #elseBlock><button mat-button routerLink="/login">Вход</button></ng-template>
    </div>
  </mat-toolbar-row>